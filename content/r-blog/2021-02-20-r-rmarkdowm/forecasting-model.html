---
title: "Time-varying estimation of machine learning models and their forecasts"
bibliography: data/bibliography.bib
description: |
  The post is about Dyn4cast package and its basic use.
author:
  - name: Job Nmadu
    url: https://jobnmadu.com/
categories:
  - R
output:
  html_document: default
  prettydoc::html_pretty:
    theme: cayman #tactile, architect, leonids, hpstr
    highlight: vignette #github
    math: katex #latex
  word_document: default
  pdf_document: 
    latex_engine: xelatex
date: "2021-02-20T01:00:00Z"
tags: [time variant forecasting, constrained forecast, COVID-19, Nigeria]
---



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>The advent of the COVID-19 pandemic really put everyone in confusion and as the days, weeks went-by, everyone was trying to understand the trend and the direction of the incidence. While the medicals were in their labs trying to understand the anatomy of the various, various statisticians and data scientists were trying to model the trend so as to guide future actions and preparations. One of the early models was done for Australia by <span class="citation">(<a href="#ref-Rami2020">Krispin and Byrnes 2020</a>)</span>. After observing the beatifuly animations of the incidence of the virus in the various regions of Australia, the motivation to do so was kindled. However, the first setback was the format the Nigerian Centre for Disease Control (NCDC) <span class="citation">(<a href="#ref-NCDC2020">NCDC 2020</a>)</span> was publishing the incidence in Nigeria was not very #RStats <span class="citation">(<a href="#ref-rstat2020">R Core Team 2020</a>)</span> friendly. There were two main issues:</p>
<ol style="list-style-type: decimal">
<li><p>The data was and has been hard-formatted using the comma thousand separator which was and has remain difficult to easily analysed so alternative means of removing the format had to be worked out.</p></li>
<li><p>The data supplied by NCDC to the main collation centre of the COVID-19 at the Johns Hopkins University Center for Systems Science and Engineering (JHU-CCSE) <span class="citation">(<a href="#ref-ccse2020">CCSE 2020</a>)</span> was not disaggregated by regions as in the case of Australia, therefore, the data had to be manualy compiled from the website (<a href="https://covid19.ncdc.gov.ng/" class="uri">https://covid19.ncdc.gov.ng/</a>) of the agency.</p></li>
</ol>
<p>For the above two reasons, the animation for Nigeria could not be achieved almost immediately. After the initial manual compilation of the data set from NCDC, an animation of the incidence in Nigeria was made on the 3rd of May, 2020 as shown below.</p>
<video width="640" height="360" controls>
<source src="../data/may012020.mp4" type="video/mp4">
</video>
<p>Thereafter, daily summaries, trend of the observed cases and possible future path through modeling and forecasting were made once the data is updated. The forecast lenght was usually the total length of the observed data which entually led to the concept of <strong>equal length forecast</strong>. It was in this wise that it was observed that the changes in forecast with just a additional day’s data were quite alarming. Hence there was need to have a way of quickly comparing time-variant forecasts. After careful consideration, the concept was synthesized into the <em>Dyn4cast</em> package <span class="citation">(<a href="#ref-nma2020">Nmadu 2020</a>)</span>. Presently, the package has five functions.</p>
<ul>
<li><p>DynamicForecast</p></li>
<li><p>constrainedforecast</p></li>
<li><p>linearsystems</p></li>
<li><p>MLMetrics</p></li>
<li><p>MallowsCP</p></li>
<li><p>Percent</p></li>
<li><p>quicksummary</p></li>
<li><p>scaledlogit</p></li>
<li><p>invscaledlogit</p></li>
</ul>
<p>The package is currently available in GitHub and can be installed as follows:</p>
<p><code>devtools::install_github("JobNmadu/Dyn4cast")</code>.</p>
<p>In this blog, the capabilities of the <code>DynamicForecast</code> function is explored.</p>
</div>
<div id="load-the-library-and-format-the-data" class="section level1">
<h1>Load the library and format the data</h1>
<p>The sample data is the daily COVID-19 cases recorded and aggregagted into national data. The break points used for the splines modelling were established via visual examination of the observed data. The data cover the period <code>2020-02-29</code> to <code>2021-02-10</code>.</p>
<pre class="r"><code>library(Dyn4cast)
library(tidyverse)
data &lt;- COVID19

data$Date &lt;- as.Date(data$Date, format = &#39;%m/%d/%Y&#39;)
date &lt;- data$Date
series &lt;- data$Case
Dss &lt;- seq(data$Date[1], by = &quot;day&quot;, length.out = length(data$Case))
lastdayfo21 &lt;- Dss[length(Dss)]

BREAKS = c(70, 131, 173, 228, 274)</code></pre>
</div>
<div id="modelling-and-forecast-for-the-full-data-range" class="section level1">
<h1>Modelling and forecast for the full data range</h1>
<p>The constrained and unconstrained forecast are presented for compaison but the right one is the constrained forecast. It was necessary to consraine the forecast to the positive quadrant since ther is no zero and negative observations.</p>
<pre class="r"><code>Days_full &lt;- DynamicForecast(date = date, series = series, BREAKS = BREAKS, MaximumDate = &quot;2021-02-10&quot;, Trend = &quot;Day&quot;, Length = 0, Type = &quot;Integer&quot;)
summary(Days_full$`Ensembled based on summed weight`)</code></pre>
<pre><code>## 
## Call:
## stats::lm(formula = Series ~ Without.knots + With.knots + Smooth + 
##     Quadratic + ARIMA)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -75.872 -13.916   5.702  20.586  26.472 
## 
## Coefficients:
##                Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   32.437636   2.317418  13.997   &lt;2e-16 ***
## Without.knots -0.027043   0.016919  -1.598    0.111    
## With.knots    -0.002837   0.018257  -0.155    0.877    
## Smooth        -0.009017   0.015934  -0.566    0.572    
## Quadratic      0.368732   0.007405  49.797   &lt;2e-16 ***
## ARIMA          0.010110   0.015349   0.659    0.511    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 24.41 on 342 degrees of freedom
## Multiple R-squared:  0.942,	Adjusted R-squared:  0.9412 
## F-statistic:  1111 on 5 and 342 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code>knitr::kable(as.data.frame(Days_full$`Unconstrained Forecast`),
             row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
DDf91
</th>
<th style="text-align:left;">
Case
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
462222
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
261819
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
3158
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots
</td>
<td style="text-align:left;">
2252100
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline
</td>
<td style="text-align:left;">
2585104
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots
</td>
<td style="text-align:left;">
-1885886
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial
</td>
<td style="text-align:left;">
700873
</td>
</tr>
<tr>
<td style="text-align:left;">
Lower ARIMA
</td>
<td style="text-align:left;">
-275249
</td>
</tr>
<tr>
<td style="text-align:left;">
Upper ARIMA
</td>
<td style="text-align:left;">
945658
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight
</td>
<td style="text-align:left;">
464539
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight
</td>
<td style="text-align:left;">
181673
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight
</td>
<td style="text-align:left;">
208354
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit
</td>
<td style="text-align:left;">
414914
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>knitr::kable(as.data.frame(Days_full$`Constrained Forecast`),
             row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
Confirmed cases
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
462222
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
261819
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
3158
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots 80%
</td>
<td style="text-align:left;">
126351
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots 95%
</td>
<td style="text-align:left;">
682497
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline 80%
</td>
<td style="text-align:left;">
494904
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline 95%
</td>
<td style="text-align:left;">
841141
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots 80%
</td>
<td style="text-align:left;">
446278
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots 95%
</td>
<td style="text-align:left;">
818931
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial 80%
</td>
<td style="text-align:left;">
656466
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial 95%
</td>
<td style="text-align:left;">
692625
</td>
</tr>
<tr>
<td style="text-align:left;">
ARIMA 80%
</td>
<td style="text-align:left;">
22070
</td>
</tr>
<tr>
<td style="text-align:left;">
ARIMA 95%
</td>
<td style="text-align:left;">
925882
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight 80%
</td>
<td style="text-align:left;">
179428
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight 95%
</td>
<td style="text-align:left;">
844147
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight 80%
</td>
<td style="text-align:left;">
88055
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight 95%
</td>
<td style="text-align:left;">
200922
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight 80%
</td>
<td style="text-align:left;">
94099
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight 95%
</td>
<td style="text-align:left;">
553710
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit 80%
</td>
<td style="text-align:left;">
64139
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit 95%
</td>
<td style="text-align:left;">
907909
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>knitr::kable(as.data.frame(Days_full$RMSE), row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
DDf91
</th>
<th style="text-align:left;">
RMSE_f91
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
369.14
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
397.82
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
612.54
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots
</td>
<td style="text-align:left;">
268.34
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline
</td>
<td style="text-align:left;">
255.21
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots
</td>
<td style="text-align:left;">
189.71
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial
</td>
<td style="text-align:left;">
351.21
</td>
</tr>
<tr>
<td style="text-align:left;">
Lower ARIMA
</td>
<td style="text-align:left;">
210.57
</td>
</tr>
<tr>
<td style="text-align:left;">
Upper ARIMA
</td>
<td style="text-align:left;">
210.57
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight
</td>
<td style="text-align:left;">
226.04
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight
</td>
<td style="text-align:left;">
471.12
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight
</td>
<td style="text-align:left;">
470.5
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit
</td>
<td style="text-align:left;">
285.48
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>Days_full$`Unconstrained forecast Plot`</code></pre>
<p><img src="/r-blog/2021-02-20-r-rmarkdowm/forecasting-model_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code>Days_full$`Constrained forecast Plot`</code></pre>
<p><img src="/r-blog/2021-02-20-r-rmarkdowm/forecasting-model_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="modelling-and-forecast-by-using-data-as-at-28-days-earlier" class="section level1">
<h1>Modelling and forecast by using data as at 28 days earlier</h1>
<pre class="r"><code>KK_28 &lt;- data[data$Date &lt;= lastdayfo21 - 28, ]
date &lt;- KK_28$Date
series &lt;- KK_28$Case
Days_28 &lt;- DynamicForecast(date = date, series = series, BREAKS = BREAKS, MaximumDate = &quot;2021-02-10&quot;, Trend = &quot;Day&quot;, Length = 0, Type = &quot;Integer&quot;)</code></pre>
<pre><code>## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.</code></pre>
<pre class="r"><code>summary(Days_28$`Ensembled based on summed weight`)</code></pre>
<pre><code>## 
## Call:
## stats::lm(formula = Series ~ Without.knots + With.knots + Smooth + 
##     Quadratic + ARIMA)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -57.604 -15.834   6.197  20.574  27.660 
## 
## Coefficients:
##                 Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   -28.863297   3.022289  -9.550   &lt;2e-16 ***
## Without.knots   0.003672   0.012301   0.298   0.7655    
## With.knots      0.001627   0.017763   0.092   0.9271    
## Smooth         -0.030868   0.020663  -1.494   0.1362    
## Quadratic       0.564357   0.010223  55.204   &lt;2e-16 ***
## ARIMA           0.028727   0.013946   2.060   0.0402 *  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 23.09 on 314 degrees of freedom
## Multiple R-squared:  0.9387,	Adjusted R-squared:  0.9377 
## F-statistic: 961.9 on 5 and 314 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code>knitr::kable(as.data.frame(Days_28$`Unconstrained Forecast`),
             row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
DDf91
</th>
<th style="text-align:left;">
Case
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
277722
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
179540
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
2721
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots
</td>
<td style="text-align:left;">
1606956
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline
</td>
<td style="text-align:left;">
2082046
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots
</td>
<td style="text-align:left;">
991316
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial
</td>
<td style="text-align:left;">
389104
</td>
</tr>
<tr>
<td style="text-align:left;">
Lower ARIMA
</td>
<td style="text-align:left;">
-126404
</td>
</tr>
<tr>
<td style="text-align:left;">
Upper ARIMA
</td>
<td style="text-align:left;">
939766
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight
</td>
<td style="text-align:left;">
1405086
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight
</td>
<td style="text-align:left;">
153744
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight
</td>
<td style="text-align:left;">
217150
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit
</td>
<td style="text-align:left;">
1101861
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>knitr::kable(as.data.frame(Days_28$`Constrained Forecast`),
             row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
Confirmed cases
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
277722
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
179540
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
2721
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots 80%
</td>
<td style="text-align:left;">
187609
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots 95%
</td>
<td style="text-align:left;">
782270
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline 80%
</td>
<td style="text-align:left;">
13054
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline 95%
</td>
<td style="text-align:left;">
871070
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots 80%
</td>
<td style="text-align:left;">
235264
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots 95%
</td>
<td style="text-align:left;">
678456
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial 80%
</td>
<td style="text-align:left;">
414340
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial 95%
</td>
<td style="text-align:left;">
441909
</td>
</tr>
<tr>
<td style="text-align:left;">
ARIMA 80%
</td>
<td style="text-align:left;">
86426
</td>
</tr>
<tr>
<td style="text-align:left;">
ARIMA 95%
</td>
<td style="text-align:left;">
847342
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight 80%
</td>
<td style="text-align:left;">
148671
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight 95%
</td>
<td style="text-align:left;">
775984
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight 80%
</td>
<td style="text-align:left;">
73488
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight 95%
</td>
<td style="text-align:left;">
174024
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight 80%
</td>
<td style="text-align:left;">
217138
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight 95%
</td>
<td style="text-align:left;">
386468
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit 80%
</td>
<td style="text-align:left;">
152548
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit 95%
</td>
<td style="text-align:left;">
669194
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>knitr::kable(as.data.frame(Days_28$RMSE), row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
DDf91
</th>
<th style="text-align:left;">
RMSE_f91
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
307.33
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
310.78
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
475.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots
</td>
<td style="text-align:left;">
221.72
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline
</td>
<td style="text-align:left;">
185.4
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots
</td>
<td style="text-align:left;">
153.91
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial
</td>
<td style="text-align:left;">
305.23
</td>
</tr>
<tr>
<td style="text-align:left;">
Lower ARIMA
</td>
<td style="text-align:left;">
169.16
</td>
</tr>
<tr>
<td style="text-align:left;">
Upper ARIMA
</td>
<td style="text-align:left;">
169.16
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight
</td>
<td style="text-align:left;">
178.28
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight
</td>
<td style="text-align:left;">
358.35
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight
</td>
<td style="text-align:left;">
357.47
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit
</td>
<td style="text-align:left;">
193.38
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>Days_28$`Unconstrained forecast Plot`</code></pre>
<p><img src="/r-blog/2021-02-20-r-rmarkdowm/forecasting-model_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>Days_28$`Constrained forecast Plot`</code></pre>
<p><img src="/r-blog/2021-02-20-r-rmarkdowm/forecasting-model_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
</div>
<div id="modelling-and-forecast-by-using-data-as-at-14-days-earlier" class="section level1">
<h1>Modelling and forecast by using data as at 14 days earlier</h1>
<pre class="r"><code>KK_14 &lt;- data[data$Date &lt;= lastdayfo21 - 14, ]
date &lt;- KK_14$Date
series &lt;- KK_14$Case

Days_14 &lt;- DynamicForecast(date = date, series = series, BREAKS = BREAKS, MaximumDate = &quot;2021-02-10&quot;, Trend = &quot;Day&quot;, Length = 0, Type = &quot;Integer&quot;)</code></pre>
<pre><code>## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.</code></pre>
<pre class="r"><code>summary(Days_14$`Ensembled based on weight`)</code></pre>
<pre><code>## 
## Call:
## stats::lm(formula = Series ~ Without.knots * With.knots * Smooth * 
##     Quadratic * ARIMA)
## 
## Residuals:
##       Min        1Q    Median        3Q       Max 
## -0.195806 -0.029597 -0.002006  0.030330  0.166867 
## 
## Coefficients:
##                                                   Estimate Std. Error  t value
## (Intercept)                                     -3.868e+01  5.590e-02 -691.851
## Without.knots                                    1.886e-01  2.398e-04  786.281
## With.knots                                      -7.224e-02  3.401e-04 -212.394
## Smooth                                          -3.557e-02  4.413e-03   -8.059
## Quadratic                                        5.811e-01  2.470e-04 2352.470
## ARIMA                                            1.885e-02  2.666e-03    7.073
## Without.knots:With.knots                        -4.036e-06  7.296e-07   -5.531
## Without.knots:Smooth                             1.640e-04  1.933e-05    8.486
## With.knots:Smooth                               -7.377e-05  1.009e-05   -7.314
## Without.knots:Quadratic                         -1.145e-03  1.715e-06 -667.288
## With.knots:Quadratic                             8.529e-04  2.021e-06  422.038
## Smooth:Quadratic                                 7.659e-05  9.532e-06    8.035
## Without.knots:ARIMA                             -1.038e-04  1.079e-05   -9.620
## With.knots:ARIMA                                 6.844e-05  5.947e-06   11.508
## Smooth:ARIMA                                     2.718e-04  5.914e-05    4.596
## Quadratic:ARIMA                                 -3.738e-05  5.949e-06   -6.284
## Without.knots:With.knots:Smooth                 -3.987e-08  4.727e-09   -8.434
## Without.knots:With.knots:Quadratic              -6.362e-09  1.129e-09   -5.634
## Without.knots:Smooth:Quadratic                  -5.393e-07  5.896e-08   -9.146
## With.knots:Smooth:Quadratic                      4.136e-07  4.369e-08    9.467
## Without.knots:With.knots:ARIMA                  -1.048e-08  4.833e-09   -2.168
## Without.knots:Smooth:ARIMA                      -1.160e-06  2.292e-07   -5.059
## With.knots:Smooth:ARIMA                          5.780e-07  1.119e-07    5.165
## Without.knots:Quadratic:ARIMA                    2.415e-07  3.506e-08    6.889
## With.knots:Quadratic:ARIMA                      -1.811e-07  2.694e-08   -6.721
## Smooth:Quadratic:ARIMA                          -5.914e-07  1.279e-07   -4.622
## Without.knots:With.knots:Smooth:Quadratic        3.038e-11  4.052e-12    7.497
## Without.knots:With.knots:Smooth:ARIMA            8.924e-11  7.261e-12   12.289
## Without.knots:With.knots:Quadratic:ARIMA         1.143e-11  4.224e-12    2.706
## Without.knots:Smooth:Quadratic:ARIMA             3.719e-09  7.437e-10    5.001
## With.knots:Smooth:Quadratic:ARIMA               -2.796e-09  5.474e-10   -5.109
## Without.knots:With.knots:Smooth:Quadratic:ARIMA -5.143e-14  3.878e-15  -13.264
##                                                 Pr(&gt;|t|)    
## (Intercept)                                      &lt; 2e-16 ***
## Without.knots                                    &lt; 2e-16 ***
## With.knots                                       &lt; 2e-16 ***
## Smooth                                          1.81e-14 ***
## Quadratic                                        &lt; 2e-16 ***
## ARIMA                                           1.06e-11 ***
## Without.knots:With.knots                        6.90e-08 ***
## Without.knots:Smooth                            9.74e-16 ***
## With.knots:Smooth                               2.34e-12 ***
## Without.knots:Quadratic                          &lt; 2e-16 ***
## With.knots:Quadratic                             &lt; 2e-16 ***
## Smooth:Quadratic                                2.12e-14 ***
## Without.knots:ARIMA                              &lt; 2e-16 ***
## With.knots:ARIMA                                 &lt; 2e-16 ***
## Smooth:ARIMA                                    6.35e-06 ***
## Quadratic:ARIMA                                 1.15e-09 ***
## Without.knots:With.knots:Smooth                 1.40e-15 ***
## Without.knots:With.knots:Quadratic              4.03e-08 ***
## Without.knots:Smooth:Quadratic                   &lt; 2e-16 ***
## With.knots:Smooth:Quadratic                      &lt; 2e-16 ***
## Without.knots:With.knots:ARIMA                    0.0309 *  
## Without.knots:Smooth:ARIMA                      7.33e-07 ***
## With.knots:Smooth:ARIMA                         4.37e-07 ***
## Without.knots:Quadratic:ARIMA                   3.28e-11 ***
## With.knots:Quadratic:ARIMA                      8.98e-11 ***
## Smooth:Quadratic:ARIMA                          5.63e-06 ***
## Without.knots:With.knots:Smooth:Quadratic       7.33e-13 ***
## Without.knots:With.knots:Smooth:ARIMA            &lt; 2e-16 ***
## Without.knots:With.knots:Quadratic:ARIMA          0.0072 ** 
## Without.knots:Smooth:Quadratic:ARIMA            9.68e-07 ***
## With.knots:Smooth:Quadratic:ARIMA               5.76e-07 ***
## Without.knots:With.knots:Smooth:Quadratic:ARIMA  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.0534 on 302 degrees of freedom
## Multiple R-squared:      1,	Adjusted R-squared:      1 
## F-statistic: 3.512e+07 on 31 and 302 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code>knitr::kable(as.data.frame(Days_14$`Unconstrained Forecast`),
             row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
DDf91
</th>
<th style="text-align:left;">
Case
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
393218
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
195751
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
2962
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots
</td>
<td style="text-align:left;">
2257939
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline
</td>
<td style="text-align:left;">
2732835
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots
</td>
<td style="text-align:left;">
1080847
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial
</td>
<td style="text-align:left;">
592450
</td>
</tr>
<tr>
<td style="text-align:left;">
Lower ARIMA
</td>
<td style="text-align:left;">
341460
</td>
</tr>
<tr>
<td style="text-align:left;">
Upper ARIMA
</td>
<td style="text-align:left;">
1286528
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight
</td>
<td style="text-align:left;">
1567506
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight
</td>
<td style="text-align:left;">
167500
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight
</td>
<td style="text-align:left;">
193050
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit
</td>
<td style="text-align:left;">
1238616
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>knitr::kable(as.data.frame(Days_14$`Constrained Forecast`),
             row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
Confirmed cases
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
393218
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
195751
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
2962
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots 80%
</td>
<td style="text-align:left;">
34305
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots 95%
</td>
<td style="text-align:left;">
NaN
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline 80%
</td>
<td style="text-align:left;">
345858
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline 95%
</td>
<td style="text-align:left;">
865177
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots 80%
</td>
<td style="text-align:left;">
197708
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots 95%
</td>
<td style="text-align:left;">
865132
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial 80%
</td>
<td style="text-align:left;">
578610
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial 95%
</td>
<td style="text-align:left;">
615408
</td>
</tr>
<tr>
<td style="text-align:left;">
ARIMA 80%
</td>
<td style="text-align:left;">
117721
</td>
</tr>
<tr>
<td style="text-align:left;">
ARIMA 95%
</td>
<td style="text-align:left;">
881259
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight 80%
</td>
<td style="text-align:left;">
122650
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight 95%
</td>
<td style="text-align:left;">
885542
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight 80%
</td>
<td style="text-align:left;">
51428
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight 95%
</td>
<td style="text-align:left;">
340684
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight 80%
</td>
<td style="text-align:left;">
125985
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight 95%
</td>
<td style="text-align:left;">
462276
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit 80%
</td>
<td style="text-align:left;">
13542
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit 95%
</td>
<td style="text-align:left;">
909625
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>knitr::kable(as.data.frame(Days_14$RMSE), row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
DDf91
</th>
<th style="text-align:left;">
RMSE_f91
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
359.04
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
379.11
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
570.94
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots
</td>
<td style="text-align:left;">
231.2
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline
</td>
<td style="text-align:left;">
197.7
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots
</td>
<td style="text-align:left;">
130.1
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial
</td>
<td style="text-align:left;">
345.1
</td>
</tr>
<tr>
<td style="text-align:left;">
Lower ARIMA
</td>
<td style="text-align:left;">
186.95
</td>
</tr>
<tr>
<td style="text-align:left;">
Upper ARIMA
</td>
<td style="text-align:left;">
186.95
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight
</td>
<td style="text-align:left;">
185.12
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight
</td>
<td style="text-align:left;">
440.75
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight
</td>
<td style="text-align:left;">
440.29
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit
</td>
<td style="text-align:left;">
258.59
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>Days_14$`Unconstrained forecast Plot`</code></pre>
<p><img src="/r-blog/2021-02-20-r-rmarkdowm/forecasting-model_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>Days_14$`Constrained forecast Plot`</code></pre>
<p><img src="/r-blog/2021-02-20-r-rmarkdowm/forecasting-model_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>
</div>
<div id="modelling-and-forecast-by-using-data-as-at-1-day-earlier" class="section level1">
<h1>Modelling and forecast by using data as at 1 day earlier</h1>
<pre class="r"><code>KK_1 &lt;- data[data$Date &lt;= lastdayfo21 - 1, ]
date &lt;- KK_1$Date
series &lt;- KK_1$Case

Days_1 &lt;- DynamicForecast(date = date, series = series, BREAKS = BREAKS, MaximumDate = &quot;2021-02-10&quot;, Trend = &quot;Day&quot;, Length = 0, Type = &quot;Integer&quot;)</code></pre>
<pre><code>## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.
## Model matrix is rank deficient. Parameters `x` were not estimable.</code></pre>
<pre class="r"><code>summary(Days_1$`Ensembled based on weight`)</code></pre>
<pre><code>## 
## Call:
## stats::lm(formula = Series ~ Without.knots * With.knots * Smooth * 
##     Quadratic * ARIMA)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.21373 -0.03116 -0.00320  0.02753  0.18117 
## 
## Coefficients:
##                                                   Estimate Std. Error  t value
## (Intercept)                                     -2.920e+01  5.290e-02 -551.900
## Without.knots                                    2.011e-01  3.346e-04  601.061
## With.knots                                      -7.955e-02  6.473e-04 -122.896
## Smooth                                          -6.038e-02  9.399e-03   -6.424
## Quadratic                                        5.297e-01  3.614e-04 1465.793
## ARIMA                                           -3.211e-02  5.951e-03   -5.395
## Without.knots:With.knots                        -6.730e-06  1.417e-06   -4.750
## Without.knots:Smooth                             3.472e-04  5.077e-05    6.838
## With.knots:Smooth                               -1.636e-04  2.999e-05   -5.456
## Without.knots:Quadratic                         -1.301e-03  2.970e-06 -438.139
## With.knots:Quadratic                             1.048e-03  3.966e-06  264.346
## Smooth:Quadratic                                 9.837e-05  1.742e-05    5.646
## Without.knots:ARIMA                              9.806e-05  3.785e-05    2.591
## With.knots:ARIMA                                -1.637e-05  2.322e-05   -0.705
## Smooth:ARIMA                                     5.924e-04  1.581e-04    3.747
## Quadratic:ARIMA                                  6.050e-05  1.041e-05    5.813
## Without.knots:With.knots:Smooth                 -9.628e-08  1.617e-08   -5.953
## Without.knots:With.knots:Quadratic              -9.005e-09  1.211e-09   -7.439
## Without.knots:Smooth:Quadratic                  -1.016e-06  1.487e-07   -6.830
## With.knots:Smooth:Quadratic                      8.247e-07  1.203e-07    6.857
## Without.knots:With.knots:ARIMA                  -1.536e-08  1.107e-08   -1.388
## Without.knots:Smooth:ARIMA                      -3.010e-06  7.324e-07   -4.110
## With.knots:Smooth:ARIMA                          1.579e-06  3.796e-07    4.161
## Without.knots:Quadratic:ARIMA                   -4.196e-07  9.617e-08   -4.363
## With.knots:Quadratic:ARIMA                       3.042e-07  7.743e-08    3.928
## Smooth:Quadratic:ARIMA                          -1.053e-06  2.870e-07   -3.669
## Without.knots:With.knots:Smooth:Quadratic        6.621e-11  1.370e-11    4.832
## Without.knots:With.knots:Smooth:ARIMA            2.534e-10  4.002e-11    6.332
## Without.knots:With.knots:Quadratic:ARIMA         1.809e-11  7.723e-12    2.343
## Without.knots:Smooth:Quadratic:ARIMA             8.974e-09  2.242e-09    4.002
## With.knots:Smooth:Quadratic:ARIMA               -7.160e-09  1.763e-09   -4.061
## Without.knots:With.knots:Smooth:Quadratic:ARIMA -1.367e-13  2.744e-14   -4.983
##                                                 Pr(&gt;|t|)    
## (Intercept)                                      &lt; 2e-16 ***
## Without.knots                                    &lt; 2e-16 ***
## With.knots                                       &lt; 2e-16 ***
## Smooth                                          4.89e-10 ***
## Quadratic                                        &lt; 2e-16 ***
## ARIMA                                           1.35e-07 ***
## Without.knots:With.knots                        3.10e-06 ***
## Without.knots:Smooth                            4.17e-11 ***
## With.knots:Smooth                               9.88e-08 ***
## Without.knots:Quadratic                          &lt; 2e-16 ***
## With.knots:Quadratic                             &lt; 2e-16 ***
## Smooth:Quadratic                                3.66e-08 ***
## Without.knots:ARIMA                             0.010024 *  
## With.knots:ARIMA                                0.481343    
## Smooth:ARIMA                                    0.000213 ***
## Quadratic:ARIMA                                 1.50e-08 ***
## Without.knots:With.knots:Smooth                 7.00e-09 ***
## Without.knots:With.knots:Quadratic              9.74e-13 ***
## Without.knots:Smooth:Quadratic                  4.37e-11 ***
## With.knots:Smooth:Quadratic                     3.73e-11 ***
## Without.knots:With.knots:ARIMA                  0.166164    
## Without.knots:Smooth:ARIMA                      5.05e-05 ***
## With.knots:Smooth:ARIMA                         4.10e-05 ***
## Without.knots:Quadratic:ARIMA                   1.74e-05 ***
## With.knots:Quadratic:ARIMA                      0.000105 ***
## Smooth:Quadratic:ARIMA                          0.000286 ***
## Without.knots:With.knots:Smooth:Quadratic       2.12e-06 ***
## Without.knots:With.knots:Smooth:ARIMA           8.34e-10 ***
## Without.knots:With.knots:Quadratic:ARIMA        0.019753 *  
## Without.knots:Smooth:Quadratic:ARIMA            7.83e-05 ***
## With.knots:Smooth:Quadratic:ARIMA               6.18e-05 ***
## Without.knots:With.knots:Smooth:Quadratic:ARIMA 1.03e-06 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.05177 on 315 degrees of freedom
## Multiple R-squared:      1,	Adjusted R-squared:      1 
## F-statistic: 4.191e+07 on 31 and 315 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code>knitr::kable(as.data.frame(Days_1$`Unconstrained Forecast`),
             row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
DDf91
</th>
<th style="text-align:left;">
Case
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
457715
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
221661
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
3144
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots
</td>
<td style="text-align:left;">
2257880
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline
</td>
<td style="text-align:left;">
2601172
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots
</td>
<td style="text-align:left;">
-2249595
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial
</td>
<td style="text-align:left;">
694018
</td>
</tr>
<tr>
<td style="text-align:left;">
Lower ARIMA
</td>
<td style="text-align:left;">
-178192
</td>
</tr>
<tr>
<td style="text-align:left;">
Upper ARIMA
</td>
<td style="text-align:left;">
912705
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight
</td>
<td style="text-align:left;">
424188
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight
</td>
<td style="text-align:left;">
180150
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight
</td>
<td style="text-align:left;">
185853
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit
</td>
<td style="text-align:left;">
383239
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>knitr::kable(as.data.frame(Days_1$`Constrained Forecast`),
             row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
Confirmed cases
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
457715
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
221661
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
3144
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots 80%
</td>
<td style="text-align:left;">
54481
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots 95%
</td>
<td style="text-align:left;">
820859
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline 80%
</td>
<td style="text-align:left;">
15966
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline 95%
</td>
<td style="text-align:left;">
948126
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots 80%
</td>
<td style="text-align:left;">
32428
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots 95%
</td>
<td style="text-align:left;">
944351
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial 80%
</td>
<td style="text-align:left;">
651633
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial 95%
</td>
<td style="text-align:left;">
687875
</td>
</tr>
<tr>
<td style="text-align:left;">
ARIMA 80%
</td>
<td style="text-align:left;">
47155
</td>
</tr>
<tr>
<td style="text-align:left;">
ARIMA 95%
</td>
<td style="text-align:left;">
907522
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight 80%
</td>
<td style="text-align:left;">
92279
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight 95%
</td>
<td style="text-align:left;">
895305
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight 80%
</td>
<td style="text-align:left;">
85678
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight 95%
</td>
<td style="text-align:left;">
205673
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight 80%
</td>
<td style="text-align:left;">
98217
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight 95%
</td>
<td style="text-align:left;">
479362
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit 80%
</td>
<td style="text-align:left;">
191518
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit 95%
</td>
<td style="text-align:left;">
739663
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>knitr::kable(as.data.frame(Days_1$RMSE), row.names = FALSE, &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
DDf91
</th>
<th style="text-align:left;">
RMSE_f91
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear
</td>
<td style="text-align:left;">
369.41
</td>
</tr>
<tr>
<td style="text-align:left;">
Semilog
</td>
<td style="text-align:left;">
397.51
</td>
</tr>
<tr>
<td style="text-align:left;">
Growth
</td>
<td style="text-align:left;">
610.45
</td>
</tr>
<tr>
<td style="text-align:left;">
Without knots
</td>
<td style="text-align:left;">
266.74
</td>
</tr>
<tr>
<td style="text-align:left;">
Smooth Spline
</td>
<td style="text-align:left;">
252.65
</td>
</tr>
<tr>
<td style="text-align:left;">
With knots
</td>
<td style="text-align:left;">
189.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Quadratic Polynomial
</td>
<td style="text-align:left;">
351.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Lower ARIMA
</td>
<td style="text-align:left;">
210.45
</td>
</tr>
<tr>
<td style="text-align:left;">
Upper ARIMA
</td>
<td style="text-align:left;">
210.45
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled with equal weight
</td>
<td style="text-align:left;">
225.41
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight
</td>
<td style="text-align:left;">
469.93
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on summed weight
</td>
<td style="text-align:left;">
469.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Essembled based on weight of fit
</td>
<td style="text-align:left;">
283.82
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>Days_1$`Unconstrained forecast Plot`</code></pre>
<p><img src="/r-blog/2021-02-20-r-rmarkdowm/forecasting-model_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<pre class="r"><code>Days_1$`Constrained forecast Plot`</code></pre>
<p><img src="/r-blog/2021-02-20-r-rmarkdowm/forecasting-model_files/figure-html/unnamed-chunk-10-2.png" width="672" /></p>
</div>
<div id="comparing-the-constrained-forecast-plots-for-the-four-time-periods" class="section level1">
<h1>Comparing the constrained forecast plots for the four-time periods</h1>
<p><img src="/r-blog/2021-02-20-r-rmarkdowm/forecasting-model_files/figure-html/unnamed-chunk-11-1.png" width="1056" /></p>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-ccse2020" class="csl-entry">
CCSE. 2020. <span>“Coronavirus.”</span> Baltimore, MD 21218-2682: Johns Hopkins University’s Center for Systems Science &amp; Engineering. 2020. <a href="https://systems.jhu.edu/research/public-health/ncov/">https://systems.jhu.edu/research/public-health/ncov/</a>.
</div>
<div id="ref-Rami2020" class="csl-entry">
Krispin, Rami, and Jarrett Byrnes. 2020. <em>Coronavirus: The 2019 Novel Coronavirus COVID-19 (2019-nCoV) Dataset</em>. <a href="https://CRAN.R-project.org/package=coronavirus">https://CRAN.R-project.org/package=coronavirus</a>.
</div>
<div id="ref-NCDC2020" class="csl-entry">
NCDC. 2020. <span>“NCDC Coronavirus COVID-19 Microsite.”</span> Abuja, Nigeria: The Nigerian Centre for Disease Control. 2020. <a href="https://covid19.ncdc.gov.ng/">https://covid19.ncdc.gov.ng/</a>.
</div>
<div id="ref-nma2020" class="csl-entry">
Nmadu, Job. 2020. <em>Dyn4cast: Dynamic Modeling and Machine Learning Environment</em>. <a href="https://github.com/JobNmadu/Dyn4cast">https://github.com/JobNmadu/Dyn4cast</a>.
</div>
<div id="ref-rstat2020" class="csl-entry">
R Core Team. 2020. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
</div>
</div>
